# Migration `20191023133905-add_dates`

This migration has been generated by Julius de Bruijn at 10/23/2019, 1:39:05 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "sql_load_test"."Comment" ADD COLUMN "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
ADD COLUMN "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ;

ALTER TABLE "sql_load_test"."Group" ADD COLUMN "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
ADD COLUMN "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ;

ALTER TABLE "sql_load_test"."Like" ADD COLUMN "createdAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ,
ADD COLUMN "updatedAt" timestamp(3) NOT NULL DEFAULT '1970-01-01 00:00:00' ;
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration 20191023130149-init..20191023133905-add_dates
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://postgres:prisma@localhost:5432/postgres?schema=sql_load_test"
 }
 generator photon {
   provider = "photonjs"
@@ -39,19 +39,25 @@
   content   String?
   author    User
   post      Post
   likes     Like[]
+  createdAt DateTime  @default(now())
+  updatedAt DateTime  @updatedAt
 }
 model Like {
   id        Int       @id @unique
   user      User
   post      Post
   comment   Comment
+  createdAt DateTime  @default(now())
+  updatedAt DateTime  @updatedAt
 }
 model Group {
   id          Int       @id @unique
   topic       String
   description String?
   members     User[]
+  createdAt   DateTime  @default(now())
+  updatedAt   DateTime  @updatedAt
 }
```

## Photon Usage

You can use a specific Photon built for this migration (20191023133905-add_dates)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20191023133905-add_dates'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
